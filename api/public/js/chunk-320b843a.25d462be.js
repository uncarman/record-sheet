(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-320b843a"],{"2c0a":function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return l});var n=a("9bd2");function o(e){return Object(n.a)({url:"/locations",method:"get",params:e})}function r(e){return Object(n.a)({url:"/locations/".concat(e),method:"delete"})}function l(e){return Object(n.a)({url:"/locations",method:"post",data:e})}},aad5:function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),o=a("5c96"),r=a("2c0a"),l={name:"page",data:function(){return{tableData:[],totalPage:1,page:1,tableLoading:!1}},created:function(){this.requestData()},methods:{requestData:function(){var t=this;this.tableLoading||(this.tableLoading=!0,Object(r.b)().then(function(e){t.tableLoading=!1,t.tableData=e.data,t.totalPage=e.meta.last_page}).catch(function(){t.tableLoading=!1}))},deleteRow:function(t){var a=this;n.default.set(t.row,"deleteLoading",!0),Object(r.a)(t.row.id).then(function(e){n.default.set(t.row,"deleteLoading",!1),a.$refs["deletePopover-"+t.row.id].doClose(),Object(o.Message)({message:e.message,type:"success",duration:5e3}),a.requestData()})},toCreatePage:function(){this.$router.push({name:"create-location"})}}},i=a("2877"),c=function(e){e.options.__source="src/views/locations/index/page.vue"},s=Object(i.a)(l,function(){var a=this,e=a.$createElement,n=a._self._c||e;return n("d2-container",[n("el-row",{staticClass:"d2-mt d2-mb"},[n("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:a.toCreatePage}},[a._v("添加地点")]),n("el-button",{attrs:{icon:"el-icon-refresh",loading:a.tableLoading},on:{click:a.requestData}},[a._v("刷新")])],1),n("el-row",[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.tableLoading,expression:"tableLoading"}],staticStyle:{width:"100%"},attrs:{data:a.tableData}},[n("el-table-column",{attrs:{prop:"name",label:"名称"}}),n("el-table-column",{attrs:{prop:"manager_name",label:"负责人"}}),n("el-table-column",{attrs:{prop:"manager_phone",label:"联系方式"}}),n("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:a._u([{key:"default",fn:function(t){return[n("el-row",[n("el-col",{attrs:{span:8}},[n("el-popover",{ref:"deletePopover-"+t.row.id,attrs:{placement:"left",width:"160",value:t.row.deletePopover}},[n("p",[a._v("确定删除吗？")]),n("div",{staticStyle:{"text-align":"right",margin:"0"}},[n("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){a.$refs["deletePopover-"+t.row.id].doClose()}}},[a._v("取消\n                                    ")]),n("el-button",{attrs:{type:"primary",size:"mini",loading:t.row.deleteLoading},on:{click:function(e){return a.deleteRow(t)}}},[a._v("确定\n                                    ")])],1),n("el-button",{attrs:{slot:"reference",type:"danger",size:"small"},slot:"reference"},[a._v("删除")])],1)],1)],1)]}}])})],1)],1),n("el-row",{staticClass:"d2-mt d2-mb"},[n("el-pagination",{attrs:{background:"","hide-on-single-page":"",layout:"prev, pager, next","current-page":a.page,"page-count":a.totalPage},on:{"update:currentPage":function(e){a.page=e},"update:current-page":function(e){a.page=e},"current-change":a.requestData}})],1)],1)},[],!1,null,"3ff801a9",null);"function"==typeof c&&c(s);t.default=s.exports}}]);